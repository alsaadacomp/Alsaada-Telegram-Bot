# ๐ฅ ูุธุงู ุงูููุธููู - ุงูุชูุซูู ุงููุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุดุงูู ููุชูุงูู ูุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูููุธููู ูุบุทู ุฌููุน ุงูุฌูุงูุจ ูู ุงููุนูููุงุช ุงูุดุฎุตูุฉ ุฅูู ุจูุงูุงุช ุงูุฑุงุชุจ ูุงูุนููุฏ.

---

## ๐ ุงููููุงุช ุงููุชููุฑุฉ

### 1. **EMPLOYEE_SCHEMA_FINAL.md** โญ (ุงูููุตู ุจู)
**ุงููุตู:** Schema ุงูููุงุฆู ุงููุงูู - 40+ ุญูู

**ูุญุชููุงุช:**
- โ ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ (ุงูุงุณูุ ุงูููุฏุ ุงูุฑูู ุงููููู)
- โ ุงููุนูููุงุช ุงูุดุฎุตูุฉ (ุชุงุฑูุฎ ุงููููุงุฏุ ุงูุฌูุณูุฉุ ุงูุญุงูุฉ ุงูุงุฌุชูุงุนูุฉ)
- โ ูุนูููุงุช ุงูุงุชุตุงู (ุงูุนููุงูุ ุงููุงุชูุ ุงูุจุฑูุฏ)
- โ ูุนูููุงุช ุงููุธููุฉ (ุงููุณูุ ุงูููุตุจุ ุชุงุฑูุฎ ุงูุชุนููู)
- โ ูุนูููุงุช ุงูุฑุงุชุจ (ุงูุฃุณุงุณูุ ุงูุจุฏูุงุชุ ุงูุฎุตููุงุช)
- โ ูุนูููุงุช ุงูุจูู (ุฑูู ุงูุญุณุงุจุ ุงูุจููุ ุงููุฑุน)
- โ ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ
- โ ุฌูุงุช ุงูุงุชุตุงู ููุทูุงุฑุฆ
- โ ุงููุซุงุฆู ูุงููุณุชูุฏุงุช
- โ ุงูููุงุฑุงุช ูุงูุดูุงุฏุงุช
- โ ุงูุนููุจุงุช ูุงูุฅูุฐุงุฑุงุช
- โ ุงูุฅุฌุงุฒุงุช

**ุงูุงุณุชุฎุฏุงู:**
```bash
# ุงูุณุฎ ุงูู Schema ูู ูุฐุง ุงูููู ูุจุงุดุฑุฉ ุฅูู schema.prisma
```

---

### 2. **EMPLOYEE_SCHEMA_PROPOSAL.md**
**ุงููุตู:** ููุชุฑุญุงุช ุจุฏููุฉ ูููุงุฐุฌ ูุฎุชููุฉ

**ูุญุชูู ุนูู:**
- ููุงุฐุฌ ูุฎุชููุฉ ุญุณุจ ุญุฌู ุงูุดุฑูุฉ
- ุฎูุงุฑุงุช ุฅุถุงููุฉ ููุญููู
- ุฃููุงุฑ ููุชูุณุน ุงููุณุชูุจูู
- ููุงุฑูุฉ ุจูู ุงูููุงุฐุฌ ุงููุฎุชููุฉ

**ูุชู ุชุณุชุฎุฏูู:**
- ุฅุฐุง ููุช ุชุฑูุฏ ุชุฎุตูุต ุงููุธุงู
- ููุดุฑูุงุช ุฐุงุช ุงููุชุทูุจุงุช ุงูุฎุงุตุฉ
- ููุจุญุซ ุนู ุฃููุงุฑ ุฌุฏูุฏุฉ

---

### 3. **EMPLOYEE_SCHEMA_SIMPLIFIED.md**
**ุงููุตู:** ูุณุฎุฉ ูุจุณุทุฉ ููุดุฑูุงุช ุงูุตุบูุฑุฉ

**ูุญุชูู ุนูู:**
- ุงูุญููู ุงูุฃุณุงุณูุฉ ููุท (~20 ุญูู)
- ููุงุณุจ ููุดุฑูุงุช ุงูุตุบูุฑุฉ
- ุณูู ุงูููู ูุงูุชุทุจูู
- ูุงุจู ููุชูุณุน ูุงุญูุงู

**ูุชู ุชุณุชุฎุฏูู:**
- ุดุฑูุฉ ุตุบูุฑุฉ ุฃู ูุงุดุฆุฉ
- ุชุฑูุฏ ุงูุจุฏุก ุณุฑูุนุงู
- ููุณ ูุฏูู ุงููุซูุฑ ูู ุงูุจูุงูุงุช

---

## ๐ฏ ูุชู ุชุณุชุฎุฏู ุฃู ูููุ

| ุงูุญุงูุฉ | ุงูููู ุงูููุตู ุจู | ุงูุณุจุจ |
|--------|-----------------|--------|
| ุดุฑูุฉ ูุชูุณุทุฉ/ูุจูุฑุฉ | **FINAL** โญ | ุดุงูู ููุชูุงูู |
| ุดุฑูุฉ ุตุบูุฑุฉ | **SIMPLIFIED** | ุจุณูุท ูุณุฑูุน |
| ุชุทููุฑ ูุฎุตุต | **PROPOSAL** | ุฃููุงุฑ ูููุชุฑุญุงุช |
| ุฏุฑุงุณุฉ ุงูุฎูุงุฑุงุช | **ุงูุซูุงุซุฉ** | ููููุงุฑูุฉ |

---

## ๐ ูููู ุฌุฏูู Employee (ุงููุณุฎุฉ ุงูููุงุฆูุฉ)

### ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ
```prisma
employeeCode      String   @unique  // ููุฏ ุงูููุธู ุงููุฑูุฏ
firstName         String             // ุงูุงุณู ุงูุฃูู
secondName        String?            // ุงูุงุณู ุงูุซุงูู
thirdName         String?            // ุงูุงุณู ุงูุซุงูุซ
lastName          String             // ุงุณู ุงูุนุงุฆูุฉ
fullName          String             // ุงูุงุณู ุงููุงูู (ูุญุณูุจ)
nationalId        String   @unique  // ุงูุฑูู ุงููููู
```

### ุงููุนูููุงุช ุงูุดุฎุตูุฉ
```prisma
gender            Gender            // ุฐูุฑ/ุฃูุซู
dateOfBirth       DateTime          // ุชุงุฑูุฎ ุงููููุงุฏ
placeOfBirth      String?           // ููุงู ุงููููุงุฏ
nationality       String            // ุงูุฌูุณูุฉ
maritalStatus     MaritalStatus     // ุงูุญุงูุฉ ุงูุงุฌุชูุงุนูุฉ
religion          String?           // ุงูุฏูุงูุฉ
bloodType         String?           // ูุตููุฉ ุงูุฏู
```

### ูุนูููุงุช ุงูุงุชุตุงู
```prisma
address           String?           // ุงูุนููุงู
city              String?           // ุงููุฏููุฉ
governorate       String?           // ุงููุญุงูุธุฉ
phoneNumber       String?           // ุฑูู ุงููุงุชู
mobileNumber      String            // ุฑูู ุงูููุจุงูู
email             String?           // ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
```

### ูุนูููุงุช ุงููุธููุฉ
```prisma
companyId         Int               // ุงูุดุฑูุฉ
departmentId      Int               // ุงููุณู
positionId        Int               // ุงููุธููุฉ
hireDate          DateTime          // ุชุงุฑูุฎ ุงูุชุนููู
employmentType    String            // ุฏุงุฆู/ูุคูุช/ูุชุนุงูุฏ
workLocation      String?           // ููุงู ุงูุนูู
```

### ูุนูููุงุช ุงูุฑุงุชุจ
```prisma
basicSalary       Float             // ุงูุฑุงุชุจ ุงูุฃุณุงุณู
housingAllowance  Float?            // ุจุฏู ุงูุณูู
transportAllowance Float?           // ุจุฏู ุงูุงูุชูุงู
otherAllowances   Float?            // ุจุฏูุงุช ุฃุฎุฑู
totalSalary       Float             // ุฅุฌูุงูู ุงูุฑุงุชุจ
```

### ูุนูููุงุช ุงูุจูู
```prisma
bankName          String?           // ุงุณู ุงูุจูู
bankAccountNumber String?           // ุฑูู ุงูุญุณุงุจ
bankBranch        String?           // ุงููุฑุน
iban              String?           // IBAN
```

### ุงูุชุฃูููุงุช
```prisma
socialInsuranceNumber String?       // ุฑูู ุงูุชุฃูููุงุช
healthInsuranceNumber String?       // ุฑูู ุงูุชุฃููู ุงูุตุญู
```

---

## ๐ ุงูุนูุงูุงุช (Relations)

```prisma
model Employee {
  // ุงูุนูุงูุงุช ุงูุฃุณุงุณูุฉ
  company      Company      @relation(fields: [companyId], references: [id])
  department   Department   @relation(fields: [departmentId], references: [id])
  position     Position     @relation(fields: [positionId], references: [id])
  
  // ุงูุนูุงูุงุช ุงููุชูุฏูุฉ
  projects     Project[]                    // ุงููุดุงุฑูุน
  equipment    Equipment_Shift_Assignment[] // ุงููุนุฏุงุช
  documents    Employee_Document[]          // ุงููุซุงุฆู
  penalties    Employee_Penalty[]           // ุงูุนููุจุงุช
  leaves       Employee_Leave[]             // ุงูุฅุฌุงุฒุงุช
  skills       Employee_Skill[]             // ุงูููุงุฑุงุช
}
```

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุงุฎุชูุงุฑ ุงููููุฐุฌ
```bash
# ููุดุฑูุงุช ุงููุจูุฑุฉ - ุงุณุชุฎุฏู FINAL
# ููุดุฑูุงุช ุงูุตุบูุฑุฉ - ุงุณุชุฎุฏู SIMPLIFIED
```

### ุงูุฎุทูุฉ 2: ุงููุณุฎ ุฅูู Schema
```bash
# ุงูุณุฎ ูุญุชูู ุงูููู ุงููุฎุชุงุฑ ุฅูู:
prisma/schema.prisma
```

### ุงูุฎุทูุฉ 3: ุฅูุดุงุก Migration
```bash
npx prisma migrate dev --name add_employee_system
```

### ุงูุฎุทูุฉ 4: ุชูููุฏ Prisma Client
```bash
npx prisma generate
```

### ุงูุฎุทูุฉ 5: ุงูุงุณุชุฎุฏุงู
```typescript
// ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ
const employee = await prisma.employee.create({
  data: {
    employeeCode: "EMP001",
    firstName: "ุฃุญูุฏ",
    lastName: "ูุญูุฏ",
    nationalId: "29801010101010",
    companyId: 1,
    departmentId: 1,
    positionId: 1,
    hireDate: new Date(),
    // ... ุจุงูู ุงูุจูุงูุงุช
  }
});
```

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### 1. ุฅุถุงูุฉ ููุธู ูุงูู
```typescript
const newEmployee = await prisma.employee.create({
  data: {
    // ูุนูููุงุช ุฃุณุงุณูุฉ
    employeeCode: "EMP001",
    firstName: "ุฃุญูุฏ",
    secondName: "ูุญูุฏ",
    thirdName: "ุนูู",
    lastName: "ุญุณู",
    fullName: "ุฃุญูุฏ ูุญูุฏ ุนูู ุญุณู",
    nationalId: "29801010101010",
    
    // ูุนูููุงุช ุดุฎุตูุฉ
    gender: "MALE",
    dateOfBirth: new Date("1998-01-01"),
    nationality: "ูุตุฑู",
    maritalStatus: "SINGLE",
    
    // ูุนูููุงุช ุงุชุตุงู
    mobileNumber: "01012345678",
    email: "ahmed@example.com",
    address: "ุงููุงูุฑุฉ",
    
    // ูุนูููุงุช ูุธููุฉ
    companyId: 1,
    departmentId: 2,
    positionId: 3,
    hireDate: new Date(),
    employmentType: "ุฏุงุฆู",
    
    // ูุนูููุงุช ุฑุงุชุจ
    basicSalary: 5000,
    housingAllowance: 1000,
    transportAllowance: 500,
    totalSalary: 6500,
  }
});
```

### 2. ุงูุจุญุซ ุนู ููุธู
```typescript
// ุจุงูููุฏ
const employee = await prisma.employee.findUnique({
  where: { employeeCode: "EMP001" }
});

// ุจุงูุฑูู ุงููููู
const employee = await prisma.employee.findUnique({
  where: { nationalId: "29801010101010" }
});

// ูุน ุงูุนูุงูุงุช
const employee = await prisma.employee.findUnique({
  where: { employeeCode: "EMP001" },
  include: {
    company: true,
    department: true,
    position: true,
    projects: true
  }
});
```

### 3. ุชุญุฏูุซ ุจูุงูุงุช ููุธู
```typescript
const updated = await prisma.employee.update({
  where: { employeeCode: "EMP001" },
  data: {
    basicSalary: 6000,
    totalSalary: 7500,
    phoneNumber: "0223456789"
  }
});
```

### 4. ุงูููุธููู ุญุณุจ ุงููุณู
```typescript
const employees = await prisma.employee.findMany({
  where: {
    departmentId: 2,
    isActive: true
  },
  include: {
    position: true
  }
});
```

---

## ๐จ ุงูููุงุฐุฌ (Enums)

```prisma
enum Gender {
  MALE     // ุฐูุฑ
  FEMALE   // ุฃูุซู
}

enum MaritalStatus {
  SINGLE    // ุฃุนุฒุจ
  MARRIED   // ูุชุฒูุฌ
  DIVORCED  // ูุทูู
  WIDOWED   // ุฃุฑูู
}

enum EmploymentType {
  PERMANENT  // ุฏุงุฆู
  CONTRACT   // ูุชุนุงูุฏ
  TEMPORARY  // ูุคูุช
  PART_TIME  // ุฌุฒุฆู
}
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ุงูุญููู ุงููุทููุจุฉ (Required):
- employeeCode
- firstName
- lastName
- nationalId
- companyId
- departmentId
- positionId
- hireDate
- mobileNumber
- basicSalary

### ุงูุญููู ุงููุฑูุฏุฉ (Unique):
- employeeCode
- nationalId

### ุงูููุงุฑุณ (Indexes):
```prisma
@@index([companyId])
@@index([departmentId])
@@index([positionId])
@@index([isActive])
```

---

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

โ๏ธ **ุจูุงูุงุช ุญุณุงุณุฉ - ูุฌุจ ุญูุงูุชูุง:**
- ุงูุฑูู ุงููููู
- ุฑูู ุงูุญุณุงุจ ุงูุจููู
- ุฑูู ุงูุชุฃูููุงุช
- ุงูุฑุงุชุจ

**ุฃูุถู ุงูููุงุฑุณุงุช:**
- โ ุงุณุชุฎุฏู HTTPS ุฏุงุฆูุงู
- โ ุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- โ ุตูุงุญูุงุช ูุญุฏูุฏุฉ ูุนุฑุถ ุงูุฑูุงุชุจ
- โ ุณุฌูุงุช Audit ููู ุชุนุฏูู

---

## ๐ ุงูุชูุงุฑูุฑ ุงูููุชุฑุญุฉ

1. **ูุงุฆูุฉ ุงูููุธููู** - ุญุณุจ ุงููุณู/ุงููุธููุฉ
2. **ุชูุฑูุฑ ุงูุฑูุงุชุจ** - ุฅุฌูุงูู ุดูุฑู
3. **ุงูููุธููู ุงูุฌุฏุฏ** - ุฎูุงู ูุชุฑุฉ ูุนููุฉ
4. **ุงูุชูุงุก ุงูุนููุฏ** - ุงูุชูุจููุงุช
5. **ุชูุฒูุน ุงูููุธููู** - ุญุณุจ ุงูุฃูุณุงู

---

## ๐ ุฑูุงุจุท ุฐุงุช ุตูุฉ

- [ูุธุงู ุงูุฃูุณุงู](../05_ุงูุจูุงูุงุช_ุงูุฃุณุงุณูุฉ/DEPARTMENT_SETUP.md)
- [ูุธุงู ุงููุธุงุฆู](../05_ุงูุจูุงูุงุช_ุงูุฃุณุงุณูุฉ/POSITION_SETUP.md)
- [ูุธุงู ุงูุดุฑูุงุช](../05_ุงูุจูุงูุงุช_ุงูุฃุณุงุณูุฉ/)
- [ุงูุนูุฏุฉ ูููุงุนุฏ ุงูุจูุงูุงุช](../README.md)

---

**ุขุฎุฑ ุชุญุฏูุซ:** ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุชุทุจูู  
**ุงูุฅุตุฏุงุฑ:** 2.0
