# ๐ Features Directory - ูุฌูุฏ ุงูุฃูุณุงู

ูุฐุง ุงููุฌูุฏ ูุญุชูู ุนูู ุฌููุน ุฃูุณุงู ุงูุจูุช ูุน ูุธุงู **ุงูุงูุชุดุงู ุงูุชููุงุฆู**.

---

## ๐ ุฅุถุงูุฉ ูุณู ุฌุฏูุฏ - ุฎุทูุงุช ุณุฑูุนุฉ

### 1๏ธโฃ ุฃูุดุฆ ูุฌูุฏ
```
src/bot/features/your-feature-name/
```

### 2๏ธโฃ ุฃูุดุฆ `config.ts`
```typescript
import type { FeatureConfig } from '../registry/types.js'

export const yourFeatureConfig: FeatureConfig = {
  id: 'your-feature-name', // โ๏ธ ูุฌุจ ุฃู ูููู ูุฑูุฏุงู
  name: 'ุงุณู ุงููุณู',
  icon: '๐ฏ',
  enabled: true, // true = ูุธูุฑ | false = ูุฎูู
  order: 1, // ุงูุชุฑุชูุจ (ุฃูู ุฑูู = ูุธูุฑ ุฃููุงู)
  permissions: ['ADMIN'], // ูู ููููู ุงููุตูู
  subFeatures: [
    {
      id: 'sub-feature-1',
      name: 'ุงููุณู ุงููุฑุนู ุงูุฃูู',
      icon: '๐',
      handler: 'handler1',
      enabled: true,
      permissions: ['ADMIN'], // ุตูุงุญูุงุช ุงููุณู ุงููุฑุนู
    },
  ],
}
```

### 3๏ธโฃ ุฃูุดุฆ `index.ts`
```typescript
import type { Context } from '../../context.js'
import { Composer } from 'grammy'
import { yourFeatureConfig } from './config.js'

export const composer = new Composer<Context>()

// ูุนุงูุฌ ุงููุณู ุงููุฑุนู
composer.callbackQuery(/^menu:sub:your-feature-name:sub-feature-1$/, async (ctx) => {
  await ctx.answerCallbackQuery()

  await ctx.editMessageText(
    'โ **ุงููุณู ุงููุฑุนู ุงูุฃูู**\n\nูุฑุญุจุงู!',
    { parse_mode: 'Markdown' }
  )
})

export { yourFeatureConfig as config } // โ ุฅุฌุจุงุฑู
```

### 4๏ธโฃ ุฃุนุฏ ุชุดุบูู ุงูุจูุช
```bash
npm run dev
```

**๐ ุงููุณู ุณูุธูุฑ ุชููุงุฆูุงู!**

---

## ๐ ุงููููู ุงูููุตู ุจู

```
your-feature/
โโโ config.ts              # โ ุงูุชูููู (ุฅุฌุจุงุฑู)
โโโ index.ts               # โ ููุทุฉ ุงูุฏุฎูู (ุฅุฌุจุงุฑู)
โโโ handlers/              # โ๏ธ ุงููุนุงูุฌุงุช (ุงุฎุชูุงุฑู - ูุชูุธูู ุฃูุถู)
    โโโ sub-feature-1.ts
    โโโ sub-feature-2.ts
    โโโ sub-feature-3.ts
```

---

## ๐ฏ ุฃูุซูุฉ ุฌุงูุฒุฉ

### ๐ ูุซุงู ุจุณูุท
ุงูุธุฑ: `settings/` - ูุณู ุจุณูุท ุจุฏูู handlers ูููุตูุฉ

### ๐ ูุซุงู ูุชูุฏู ูุน ุชุฏููุงุช ุชูุงุนููุฉ
ุงูุธุฑ: `test-feature/` - ูุณู ูุงูู ูุน:
- โ 3 ุฃูุณุงู ูุฑุนูุฉ
- โ ูุนุงูุฌุงุช ููุธูุฉ ูู `handlers/`
- โ ุชุฏููุงุช ุชูุงุนููุฉ ูุงููุฉ

---

## ๐ ุงูุชูุซูู ุงูุดุงูู ุงูููุตู

๐ **[docs/CREATE-NEW-FEATURE-GUIDE.md](../../../docs/CREATE-NEW-FEATURE-GUIDE.md)**

ูุญุชูู ุนูู:
- โ ุดุฑุญ ุชูุตููู ุฎุทูุฉ ุจุฎุทูุฉ
- โ ุฃูุซูุฉ ุนูููุฉ ูุงููุฉ (ูุณู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ)
- โ ุฃูุถู ุงูููุงุฑุณุงุช
- โ ุงุณุชูุดุงู ูุญู ุงูุฃุฎุทุงุก
- โ ููุงุฐุฌ ุฌุงูุฒุฉ ูููุณุฎ ูุงููุตู

---

## ๐ ุงูุฃูุณุงู ุงูููุฌูุฏุฉ

### ุงูุฃูุณุงู ุงูุซุงุจุชุฉ (Built-in)
- `admin.ts` - ุฃูุงูุฑ ุงูุฅุฏุงุฑุฉ
- `language.ts` - ุชุจุฏูู ุงููุบุฉ
- `welcome.ts` - ุฑุณุงูุฉ ุงูุชุฑุญูุจ
- `unhandled.ts` - ูุนุงูุฌ ุงูุฃูุงูุฑ ุบูุฑ ุงููุนุฑููุฉ
- `main-menu.ts` - ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ุงูุฏููุงููููุฉ

### ุงูุฃูุณุงู ุงูุฏููุงููููุฉ (Auto-Discovered)
- `settings/` - ูุณู ุงูุฅุนุฏุงุฏุงุช โ
- `test-feature/` - ูุณู ุชุฌุฑูุจู โ
- *(ุฃุถู ุฃูุณุงูู ููุง)*

---

## ๐ง ูุธุงู Registry

ุงููุฌูุฏ `registry/` ูุญุชูู ุนูู ุงููุธุงู ุงูุฃุณุงุณู:
- `types.ts` - ุงูุชุนุฑููุงุช (Types)
- `feature-registry.ts` - ุชุฎุฒูู ุงูุฃูุณุงู
- `feature-loader.ts` - ูุญุฑู ุงูุงูุชุดุงู ุงูุชููุงุฆู
- `menu-builder.ts` - ุจูุงุก ุงูููุงุฆู ุงูุฏููุงููููุฉ

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููููุฉ

### ๐ ุงูุตูุงุญูุงุช ุงููุชุงุญุฉ
```typescript
type UserRole = 'SUPER_ADMIN' | 'ADMIN' | 'EMPLOYEE' | 'GUEST'
```

| ุงูุตูุงุญูุฉ | ุงููุตู |
|----------|-------|
| `SUPER_ADMIN` | ุงููุฏูุฑ ุงูุฃุนูู - ูุงูู ุงูุตูุงุญูุงุช |
| `ADMIN` | ูุฏูุฑ - ูุนุธู ุงูุตูุงุญูุงุช |
| `EMPLOYEE` | ููุธู - ุตูุงุญูุงุช ูุญุฏูุฏุฉ |
| `GUEST` | ุถูู - ูุฑุงุกุฉ ููุท |

### ๐ Pattern ุงูู Callback Data
```typescript
// ูููุณู ุงูุฑุฆูุณู
menu:feature:FEATURE_ID

// ูููุณู ุงููุฑุนู
menu:sub:FEATURE_ID:SUBFEATURE_ID

// ุฃูุซูุฉ
menu:feature:hr-department
menu:sub:hr-department:employees-list
```

---

## โ ููุงุท ุฃุณุงุณูุฉ

- โ ูู ูุณู ูุฌุจ ุฃู ูููู ูู `id` **ูุฑูุฏ**
- โ ุงุณุชุฎุฏู `enabled: false` ูุฅุฎูุงุก ูุณู ุจุฏูู ุญุฐูู
- โ `permissions: []` ุฃู ุนุฏู ุชุญุฏูุฏูุง = ูุชุงุญ ููุฌููุน
- โ ุงุณุชุฎุฏู `order` ููุชุญูู ูู ุชุฑุชูุจ ุงูุธููุฑ (1 = ุฃููุ 99 = ุขุฎุฑ)
- โ ุฏุงุฆูุงู ุถุน ุฒุฑ "โฌ๏ธ ุฑุฌูุน" ูู ูุนุงูุฌุงุชู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### โ ุงููุณู ูุง ูุธูุฑุ
1. โ ุชุญูู ูู `enabled: true`
2. โ ุชุญูู ูู `permissions` (ุฃู ุงุญุฐููุง ููุงุฎุชุจุงุฑ)
3. โ ุชุญูู ูู ุชุตุฏูุฑ `config` ูู `index.ts`
4. โ ุฑุงุฌุน ููุฌ ุงูุจูุช ุนูุฏ ุงูุชุดุบูู

### โ ุฎุทุฃ "Feature already registered"?
- ููุฌุฏ ูุณูุงู ุจููุณ ุงูู `id`
- ุชุฃูุฏ ุฃู ูู `id` ูุฑูุฏ ูู ุฌููุน ุงูุฃูุณุงู

### โ ุงููุนุงูุฌ ูุง ูุนููุ
- โ ุชุญูู ูู Pattern ุงูู `callbackQuery`
- โ ุชุฃูุฏ ุฃู ุงููุนุงูุฌ ููุณุฌู ูู `composer.use()`
- โ ุฑุงุฌุน console ููุฃุฎุทุงุก

---

## โจ ูููุฒุงุช ุงููุธุงู

- โ **ุงูุชุดุงู ุชููุงุฆู** - ูุง ุญุงุฌุฉ ูุชุณุฌูู ูุฏูู
- โ **ุชูุนูู/ุฅููุงู** - ุนูู ูุงุญุฏ ููุชุญูู ูู ุงูุธููุฑ
- โ **ุตูุงุญูุงุช ูุชูุฏูุฉ** - ูููุณู ุงูุฑุฆูุณู ูุงููุฑุนู
- โ **ููุงุฆู ุฏููุงููููุฉ** - ุชูุจูู ุชููุงุฆูุงู
- โ **ูุชุนุฏุฏ ุงููุณุชููุงุช** - ุฃูุณุงู ุฑุฆูุณูุฉ + ูุฑุนูุฉ

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

### ูุซุงุฆู ุงููุธุงู
- ๐ **[ุฏููู ุฅูุดุงุก ุงูุฃูุณุงู](../../../docs/CREATE-NEW-FEATURE-GUIDE.md)** - ุดุงูู ูููุตู
- ๐ **[ููุฎุต ุงููุธุงู](../../../docs/FEATURE-SYSTEM-SUMMARY.md)** - ูุธุฑุฉ ุนุงูุฉ
- ๐ **[ุฏููู ุงูุชุฏููุงุช](../../../docs/INTERACTIVE-FLOWS-GUIDE.md)** - ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ
- ๐ **[Registry README](./registry/README.md)** - ุดุฑุญ ุชููู ูููุธุงู

### ุงููุญุฏุงุช ุงููุชุงุญุฉ ููุงุณุชุฎุฏุงู
- ๐ **Form Builder** - ููุงุฐุฌ ุชูุงุนููุฉ
- ๐ **Multi-Step Forms** - ููุงุฐุฌ ูุชุนุฏุฏุฉ ุงูุฎุทูุงุช
- โจ๏ธ **Inline Keyboards** - ููุญุงุช ููุงุชูุญ ูุฎุตุตุฉ
- ๐ **Data Tables** - ุฌุฏุงูู ุจูุงูุงุช ุชูุงุนููุฉ
- ๐ **Notifications** - ูุธุงู ุฅุดุนุงุฑุงุช
- ๐ **Analytics** - ุชุญูููุงุช ูุชูุงุฑูุฑ

---

## ๐ ุงุจุฏุฃ ุงูุขู!

ุงูุณุฎ ูุฌูุฏ `test-feature/` ูุนุฏูู ุนูููุ ุฃู ุฃูุดุฆ ูุฌูุฏู ูู ุงูุตูุฑ!

**ุญุธุงู ููููุงู! ๐ช๐**
