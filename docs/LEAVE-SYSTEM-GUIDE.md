# ูุธุงู ุงูุฅุฌุงุฒุงุช ุงูุฌุฏูุฏ - ุฏููู ุงููุทูุฑ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุฅุฌุงุฒุงุช ุฌุฏูุฏ ูุนุชูุฏ ุนูู ุฏูุฑุงุช ุนูู ูุชุชุงููุฉุ ุญูุซ ูุนูู ุงูุนุงูู ูุนุฏุฏ ูุนูู ูู ุงูุฃูุงู ูุชุจูุนุฉ ุจุนุฏุฏ ูุนูู ูู ุฃูุงู ุงูุฅุฌุงุฒุฉ.

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุญููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ

#### ูู ุฌุฏูู `Employee`:
- `workDaysPerCycle`: ุนุฏุฏ ุฃูุงู ุงูุนูู ูู ุงูุฏูุฑุฉ
- `leaveDaysPerCycle`: ุนุฏุฏ ุฃูุงู ุงูุฅุฌุงุฒุฉ ูู ุงูุฏูุฑุฉ  
- `currentWorkDays`: ุนุฏุฏ ุฃูุงู ุงูุนูู ุงูุญุงููุฉ
- `currentLeaveDays`: ุนุฏุฏ ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงูุญุงููุฉ
- `lastLeaveStartDate`: ุชุงุฑูุฎ ุจุฏุงูุฉ ุขุฎุฑ ุฅุฌุงุฒุฉ
- `lastLeaveEndDate`: ุชุงุฑูุฎ ููุงูุฉ ุขุฎุฑ ุฅุฌุงุฒุฉ
- `nextLeaveStartDate`: ุชุงุฑูุฎ ุจุฏุงูุฉ ุงูุฅุฌุงุฒุฉ ุงููุงุฏูุฉ
- `nextLeaveEndDate`: ุชุงุฑูุฎ ููุงูุฉ ุงูุฅุฌุงุฒุฉ ุงููุงุฏูุฉ

#### ูู ุฌุฏูู `Position`:
- `defaultWorkDaysPerCycle`: ุนุฏุฏ ุฃูุงู ุงูุนูู ุงูุงูุชุฑุงุถู ูููุธููุฉ
- `defaultLeaveDaysPerCycle`: ุนุฏุฏ ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงูุงูุชุฑุงุถู ูููุธููุฉ

### 2. ูุงุฌูุฉ ุงููุณุชุฎุฏู

#### ูู ูุนุงูุฌ ุงูุชุนุฏูู:
- ูุณู ุฌุฏูุฏ "๐ ูุธุงู ุงูุฅุฌุงุฒุงุช ุงูุฌุฏูุฏ" ูู ูุงุฆูุฉ ุงูุชุนุฏูู
- ุฅููุงููุฉ ุชุนุฏูู ุฌููุน ุญููู ูุธุงู ุงูุฅุฌุงุฒุงุช
- ูุนุงูุฌุฉ ุฎุงุตุฉ ููุชูุงุฑูุฎ ุจุตูุบุฉ DD/MM/YYYY ุฃู DD-MM-YYYY

#### ูู ูุนุงูุฌ ุงูุชูุงุตูู:
- ุนุฑุถ ุฌููุน ูุนูููุงุช ูุธุงู ุงูุฅุฌุงุฒุงุช ุงูุฌุฏูุฏ
- ุนุฑุถ ุงูุชูุงุฑูุฎ ุจุตูุบุฉ ุนุฑุจูุฉ

### 3. ุฃุฏุงุฉ ุฅุฏุงุฑุฉ ุงููุธุงู

ุชู ุฅูุดุงุก `LeaveSystemManager` ูู `src/modules/utils/leave-system-manager.ts` ูุน ุงููุธุงุฆู ุงูุชุงููุฉ:

#### `calculateNextLeaveDates(employeeId)`
- ุญุณุงุจ ููุงุนูุฏ ุงูุฅุฌุงุฒุงุช ุงูุชุงููุฉ ุจูุงุกู ุนูู ุงููุธุงู ุงูุญุงูู
- ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุขุฎุฑ ุฅุฌุงุฒุฉ ูุฃูุงู ุงูุนูู ุงูุญุงููุฉ

#### `updateCurrentDays(employeeId)`
- ุชุญุฏูุซ ุนุฏุฏ ุฃูุงู ุงูุนูู ูุงูุฅุฌุงุฒุงุช ุงูุญุงููุฉ
- ูุญุณุจ ุงูุฏูุฑุฉ ุงูุญุงููุฉ ุจูุงุกู ุนูู ุงูุชุงุฑูุฎ ุงููุฑุฌุนู

#### `startLeave(employeeId, leaveStartDate)`
- ุจุฏุก ุฅุฌุงุฒุฉ ุฌุฏูุฏุฉ ููุนุงูู
- ุงูุชุญูู ูู ุงูุชูุงู ูุชุฑุฉ ุงูุนูู ุงููุทููุจุฉ

#### `endLeave(employeeId)`
- ุฅููุงุก ุฅุฌุงุฒุฉ ูุงูุนูุฏุฉ ููุนูู
- ุฅุนุงุฏุฉ ุชุนููู ุงูุนุฏุงุฏุงุช

#### `updateAllEmployees()`
- ุชุญุฏูุซ ุฌููุน ุงูุนุงูููู ูู ุงููุธุงู
- ุญุณุงุจ ููุงุนูุฏ ุงูุฅุฌุงุฒุงุช ุงููุงุฏูุฉ ููุฌููุน

## ุงูููู ุงูุงูุชุฑุงุถูุฉ

ุชู ุชุนููู ููู ุงูุชุฑุงุถูุฉ ูููุธุงุฆู:

### ูุธุงุฆู ุงูุชุบุฐูุฉ (CAT):
- **ุทุจุงุฎ (CAT-01)**: 30 ููู ุนูู + 10 ุฃูุงู ุฅุฌุงุฒุฉ
- **ุฑุฆูุณ ุทูุงุฉ (CAT-02)**: 30 ููู ุนูู + 10 ุฃูุงู ุฅุฌุงุฒุฉ

### ูุธุงุฆู ุงููุนุฏุงุช (EQP):
- **ุณุงุฆู ุญูุงุฑ (EQP-01)**: 21 ููู ุนูู + 7 ุฃูุงู ุฅุฌุงุฒุฉ

### ุงููุธุงุฆู ุงูุฅุฏุงุฑูุฉ (ADM):
- **ุฅุฏุงุฑู (ADM-01)**: 30 ููู ุนูู + 10 ุฃูุงู ุฅุฌุงุฒุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅุถุงูุฉ ุนุงูู ุฌุฏูุฏ
ุนูุฏ ุฅุถุงูุฉ ุนุงูู ุฌุฏูุฏุ ุณูุชู ุชููุงุฆูุงู ุชุนููู ุงูููู ุงูุงูุชุฑุงุถูุฉ ูู ุงููุธููุฉ ุงููุฎุชุงุฑุฉ.

### 2. ุชุนุฏูู ูุธุงู ุงูุฅุฌุงุฒุงุช
- ุงูุชูู ุฅูู ุชูุงุตูู ุงูุนุงูู
- ุงุถุบุท "โ๏ธ ุชุนุฏูู ูุนูููุงุช ุงูุนุงูู"
- ุงุฎุชุฑ "๐ ูุธุงู ุงูุฅุฌุงุฒุงุช ุงูุฌุฏูุฏ"
- ุนุฏูู ุงูุญููู ุงููุทููุจุฉ

### 3. ุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช
ูููู ุงุณุชุฎุฏุงู `LeaveSystemManager` ูุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช ุจุฑูุฌูุงู:

```typescript
import { LeaveSystemManager } from '../modules/utils/leave-system-manager.js'

// ุจุฏุก ุฅุฌุงุฒุฉ ุฌุฏูุฏุฉ
await LeaveSystemManager.startLeave(employeeId, new Date())

// ุฅููุงุก ุฅุฌุงุฒุฉ
await LeaveSystemManager.endLeave(employeeId)

// ุชุญุฏูุซ ุฌููุน ุงูุนุงูููู
await LeaveSystemManager.updateAllEmployees()
```

## ุงูุตูุงุญูุงุช

- **ADMIN ู SUPER_ADMIN**: ูููู ุชุนุฏูู ุฌููุน ุญููู ูุธุงู ุงูุฅุฌุงุฒุงุช
- **ุงููุณุชุฎุฏููู ุงูุขุฎุฑูู**: ูููู ููุท ุนุฑุถ ุงููุนูููุงุช

## ุงูุชูุงูู ูุน ุงููุธุงู ุงููุฏูู

ุงููุธุงู ุงูุฌุฏูุฏ ูุนูู ุฌูุจุงู ุฅูู ุฌูุจ ูุน ูุธุงู ุงูุฅุฌุงุฒุงุช ุงูุชูููุฏู (ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉุ ุงููุฑุถูุฉุ ุงูุนุฑุถูุฉ) ููุง ูุคุซุฑ ุนููู.

## ุงูุชุทููุฑ ุงููุณุชูุจูู

1. **ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ**: ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูุจู ููุนุฏ ุงูุฅุฌุงุฒุฉ ุงููุงุฏูุฉ
2. **ุชูุงุฑูุฑ ุงูุฅุฌุงุฒุงุช**: ุชูุงุฑูุฑ ููุตูุฉ ุนู ุฃููุงุท ุงูุฅุฌุงุฒุงุช
3. **ุชูุงูู ุงูุชูููู**: ุฑุจุท ููุงุนูุฏ ุงูุฅุฌุงุฒุงุช ูุน ุงูุชููููุงุช ุงูุฎุงุฑุฌูุฉ
4. **ููุงููุงุช ุงูุฅุฌุงุฒุงุช**: ูุธุงู ููุงููุงุช ููุฅุฌุงุฒุงุช ุงูุทุงุฑุฆุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:
1. **ุงูุชูุงุฑูุฎ ูุง ุชุธูุฑ**: ุชุฃูุฏ ูู ุตุญุฉ ุตูุบุฉ ุงูุชุงุฑูุฎ (DD/MM/YYYY)
2. **ุงูููู ุงูุงูุชุฑุงุถูุฉ ูุง ุชุทุจู**: ุชุฃูุฏ ูู ูุฌูุฏ ุงูููู ูู ุฌุฏูู Position
3. **ุงูุญุณุงุจุงุช ุฎุงุทุฆุฉ**: ุงุณุชุฎุฏู `updateAllEmployees()` ูุฅุนุงุฏุฉ ุญุณุงุจ ุฌููุน ุงูููู

### ุณุฌูุงุช ุงููุธุงู:
ุฌููุน ุงูุนูููุงุช ูุชู ุชุณุฌูููุง ูู console ูุน ุฑุณุงุฆู ูุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ.
