# ๐ ุชุนูููุงุช ุชุดุบูู ุฌุฏูู ุงูุฃูุณุงู

ุชู ุฅูุดุงุก ุฌุฏูู ุงูุฃูุณุงู (Department) ุจูุฌุงุญ! โ

## ๐ ุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง:

1. โ **schema.prisma** - ุชู ุชุญุฏูุซู ุจู Model ุฌุฏูุฏ
2. โ **migration.sql** - ููู Migration ููุฌุฏูู
3. โ **seed-departments.ts** - ุณูุฑูุจุช ุฅุฏุฎุงู ุงูุจูุงูุงุช

---

## ๐ง ุฎุทูุงุช ุงูุชูููุฐ:

### 1๏ธโฃ ุชุทุจูู Migration ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```bash
cd F:\_Alsaada_Telegram_Bot\telegram-bot-template-main
npx prisma migrate deploy
```

ุฃู ุฅุฐุง ููุช ูู ูุถุน ุงูุชุทููุฑ:

```bash
npx prisma migrate dev
```

### 2๏ธโฃ ุชูููุฏ Prisma Client:

```bash
npx prisma generate
```

### 3๏ธโฃ ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูู 11 ูุณู:

```bash
npx tsx prisma/seed-departments.ts
```

ุฃู:

```bash
npx ts-node prisma/seed-departments.ts
```

### 4๏ธโฃ ุงูุชุญูู ูู ุงูุจูุงูุงุช ูู Prisma Studio:

```bash
npx prisma studio
```

---

## ๐ ุงูุฃูุณุงู ุงูุชู ุณูุชู ุฅุฏุฎุงููุง (11 ูุณู):

1. ุงูุฅุฏุงุฑุฉ ุงูุนููุง - TMG
2. ุงูุฅุฏุงุฑุฉ ุงูุนุงูุฉ - ADM
3. ุงูุฅุฏุงุฑุฉ ุงูููุฏุณูุฉ - ENG
4. ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน ูุงูุฅุดุฑุงู - PRJ
5. ุฅุฏุงุฑุฉ ุงููุฑูุจุงุช - VEH
6. ุฅุฏุงุฑุฉ ุงููุนุฏุงุช - EQP
7. ุฅุฏุงุฑุฉ ุงูุตูุงูุฉ - MNT
8. ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช ุงูุนุงูุฉ - SER
9. ุฅุฏุงุฑุฉ ุงูุฃูู ูุงูุณูุงูุฉ - SEC
10. ุฅุฏุงุฑุฉ ุงูุชุบุฐูุฉ - CAT
11. ุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงููุญุงุณุจุฉ - FIN

---

## ๐ฏ ุงูุฃุนูุฏุฉ ูู ุงูุฌุฏูู:

- id (ุงููุนุฑู ุงููุฑูุฏ)
- name (ุงูุงุณู ุจุงูุนุฑุจู)
- nameEn (ุงูุงุณู ุจุงูุฅูุฌููุฒู)
- code (ุงูููุฏ - ูุฑูุฏ)
- description (ุงููุตู)
- managerId (ูุฏูุฑ ุงููุณู)
- orderIndex (ุงูุชุฑุชูุจ)
- isActive (ูุดุท/ุบูุฑ ูุดุท)
- createdAt (ุชุงุฑูุฎ ุงูุฅูุดุงุก)
- updatedAt (ุขุฎุฑ ุชุญุฏูุซ)
- createdBy (ูู ุฃูุดุฃ ุงูุณุฌู)
- updatedBy (ูู ุญุฏูุซ ุงูุณุฌู)

---

## ๐ ุงุณุชุฎุฏุงู ุงูุฌุฏูู ูู ุงูููุฏ:

```typescript
import { Database } from '#root/modules/database/index.js'

// ุงูุญุตูู ุนูู ุฌููุน ุงูุฃูุณุงู
const departments = await Database.prisma.department.findMany({
  where: { isActive: true },
  orderBy: { orderIndex: 'asc' }
})

// ุงูุญุตูู ุนูู ูุณู ูุนูู
const department = await Database.prisma.department.findUnique({
  where: { code: 'ENG' }
})

// ุฅูุดุงุก ูุณู ุฌุฏูุฏ
const newDept = await Database.prisma.department.create({
  data: {
    name: 'ูุณู ุฌุฏูุฏ',
    nameEn: 'New Department',
    code: 'NEW',
    description: 'ูุตู ุงููุณู',
    orderIndex: 12
  }
})
```

---

## โ ุจุนุฏ ุงูุชูููุฐ:

ุงูุฌุฏูู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ููููู ุงูุขู:
- ุนุฑุถ ุงูุฃูุณุงู ูู ุงูุจูุช
- ุฅุถุงูุฉ ุฃูุณุงู ุฌุฏูุฏุฉ
- ุชุนุฏูู ุจูุงูุงุช ุงูุฃูุณุงู
- ุฑุจุท ุงูููุธููู ุจุงูุฃูุณุงู

---

## ๐ ูู ุญุงูุฉ ุญุฏูุซ ูุดุงูู:

1. ุชุฃูุฏ ูู ูุฌูุฏ ููู `.env` ูุน `DATABASE_URL`
2. ุชุฃูุฏ ูู ุชุซุจูุช ุงูู dependencies:
   ```bash
   npm install
   ```
3. ุงูุณุญ ุงููุฌูุฏ `generated/prisma` ูุฃุนุฏ ุงูุชูููุฏ:
   ```bash
   npx prisma generate
   ```

---

**โจ ุชู ุจูุฌุงุญ! ุงูุขู ูููุฐ ุงูุฎุทูุงุช ุฃุนูุงู ูุณุชููู ุฌุงูุฒุงู.**
