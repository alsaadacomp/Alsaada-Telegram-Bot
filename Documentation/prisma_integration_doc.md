# ๐ ุชูุซูู ุชูุงูู Prisma ูุน ูุดุฑูุน Telegram Bot Template

## ๐งฉ ูุธุฑุฉ ุนุงูุฉ
ุชู ูู ูุฐุง ุงูุฏููู ุชูุซูู ุนูููุฉ ุฅุนุฏุงุฏ ูุชูุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนุจุฑ **Prisma ORM** ุจุงุณุชุฎุฏุงู **SQLite** ุฏุงุฎู ูุดุฑูุน **Telegram Bot Template**.

ููุฏู ูุฐุง ุงูุชูุซูู ุฅูู ุชูุถูุญ ุฎุทูุงุช ุงูุฅูุดุงุกุ ุงูุชููุฆุฉุ ุฅูุดุงุก ุงูุฌุฏุงููุ ูุฅุฏุงุฑุฉ ุงูููุงุฌุฑุงุช (migrations)ุ ุจุงูุฅุถุงูุฉ ุฅูู ุขููุฉ ุงุณุชุฏุนุงุก ุงูุนููู (Prisma Client) ุฏุงุฎู ุงููุดุฑูุน.

---

## ๐๏ธ ุงูุฎุทูุฉ 1: ุฅูุดุงุก ููู ุงูุชููุฆุฉ ุงูุฃุณุงุณูุฉ
ุชู ุฅูุดุงุก ููู Prisma Schema ุฏุงุฎู ุงููุณุงุฑ ุงูุชุงูู:
```
prisma/schema.prisma
```
ููุญุชูู ุนูู ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ:
```prisma
// This is your Prisma schema file
// Learn more: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}
```

- **generator client:** ูููู ุจุฅูุดุงุก ุนููู Prisma ุฏุงุฎู ูุฌูุฏ `generated/prisma`.
- **datasource db:** ูุญุฏุฏ ููุน ูุงุนุฏุฉ ุงูุจูุงูุงุช (SQLite) ููุตุฏุฑ ุงูุงุชุตุงู ูู ูุชุบูุฑ ุงูุจูุฆุฉ `DATABASE_URL`.

---

## โ๏ธ ุงูุฎุทูุฉ 2: ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูููุงุฌุฑุฉ ุงูุฃููู
ุชู ุชูููุฐ ุงูุฃูุฑ ุงูุชุงูู ูุฅูุดุงุก ุงููุงุนุฏุฉ ููุฒุงููุชูุง ูุฃูู ูุฑุฉ:
```bash
npx prisma migrate dev --name init
```

๐ **ุงููุงุชุฌ:**
- ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช `dev.db` ุฏุงุฎู ูุฌูุฏ `prisma`.
- ุชู ุฅูุดุงุก ูุฌูุฏ ุงูููุงุฌุฑุงุช: `prisma/migrations/20251016235836_add_user_roles/`
- ุชู ุฅูุดุงุก ุงูุนููู ูู ุงููุณุงุฑ: `generated/prisma`

---

## ๐ ุงูุฎุทูุฉ 3: ุฅูุดุงุก ููุงุฌุฑุฉ ุฌุฏูุฏุฉ (ุฅุถุงูุฉ ุฌุฏูู ุฃู ุชุนุฏูู ูููู)
ุนูุฏ ุฅุฌุฑุงุก ุฃู ุชุนุฏูู ุนูู ููู `schema.prisma` (ูุซู ุฅุถุงูุฉ ุฌุฏูู ุฃู ุญูู ุฌุฏูุฏ)ุ ูุชู ุชูููุฐ:
```bash
npx prisma migrate dev --name add_user_roles
```

๐ ูุฐุง ุงูุฃูุฑ ูููู ุจู:
1. ุฅูุดุงุก ูุฌูุฏ ุฌุฏูุฏ ุฏุงุฎู `prisma/migrations` ุจุงุณู ุงูุชุนุฏูู.
2. ุชุทุจูู ุงูุชุนุฏููุงุช ุชููุงุฆููุง ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
3. ุชุญุฏูุซ ุนููู Prisma.

---

## ๐งฑ ุงูุฎุทูุฉ 4: ุชูููุฏ ุนููู Prisma ูุฏูููุง
ูู ุญุงู ุงูุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชูููุฏ ุงูุนููู ุจุนุฏ ุฃู ุชุนุฏููุ ููุณุชุฎุฏู:
```bash
npx prisma generate
```

๐ **ุงููุธููุฉ:**
- ูุนูุฏ ุฅูุดุงุก ูููุงุช ุงูุนููู ูู ุงููุณุงุฑ ุงููุญุฏุฏ ูู ูุณู `generator`.
- ูุชูุญ ุงุณุชุฏุนุงุก ุงููุงุฆูุงุช ุงูุฎุงุตุฉ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงูููุฏ ุงูุจุฑูุฌู ูุจุงุดุฑุฉ.

---

## ๐งฉ ุงูุฎุทูุฉ 5: ุงุณุชุฏุนุงุก Prisma Client ูู ุงูููุฏ ุงูุจุฑูุฌู
ููุงุณุชุฎุฏุงู ุฏุงุฎู ุฃู ููู JavaScript:
```js
import { PrismaClient } from '../generated/prisma';
const prisma = new PrismaClient();

// ูุซุงู ุนูู ุฅุฏุฎุงู ูุณุชุฎุฏู ุฌุฏูุฏ
await prisma.user.create({
  data: {
    name: 'Saleh Osman',
    role: 'Admin'
  }
});

// ุงุณุชุนูุงู ุจุณูุท
const allUsers = await prisma.user.findMany();
console.log(allUsers);
```

---

## ๐งฐ ูููุงุช ุงููุดุฑูุน ุฐุงุช ุงูุตูุฉ
| ุงูููู | ุงููุตู |
|--------|--------|
| `.env` | ูุญุชูู ุนูู ุฅุนุฏุงุฏ `DATABASE_URL` ุงููุณุชุฎุฏู ูู Prisma |
| `prisma/schema.prisma` | ุชุนุฑูู ุงูุฌุฏุงูู ูุงูุนูุงูุงุช |
| `generated/prisma` | ุงููุฌูุฏ ุงููุงุชุฌ ุนู ุชูููุฏ ุนููู Prisma |
| `prisma/migrations/` | ูุญุชูู ุนูู ูู ุงูุชุนุฏููุงุช ุงููููููุฉ (migrations) |

---

## ๐งพ ููุงุญุธุงุช ุชุดุบูููุฉ
- ุชุฃูุฏ ูู ุฃู ูุณุงุฑ ุงููุงุนุฏุฉ ูู `.env` ูู:
  ```env
  DATABASE_URL="file:./dev.db"
  ```
- ุนูุฏ ุชุบููุฑ ููุน ุงููุงุนุฏุฉ ุฅูู PostgreSQL ุฃู MySQLุ ูุชู ุชุนุฏูู `provider` ู`url` ุฏุงุฎู `schema.prisma` ููุท.
- ูููุถู ุฅุถุงูุฉ ุงููุฌูุฏ `generated/prisma` ุฅูู ูุธุงู ุงููุฑุงูุจุฉ git.

---

## โ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
ุชู ุฅุนุฏุงุฏ ูุชูุงูู Prisma ุจูุฌุงุญ ุฏุงุฎู ูุดุฑูุน Telegram Bot Templateุ ูุน ุฏุนู ุชูููุฏ ุชููุงุฆู ููุนููู ูุชุทุจูู ุงูููุงุฌุฑุงุช ุนูู ูุงุนุฏุฉ ุจูุงูุงุช SQLite. ุงูุขู ูููู ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช ุจุณูููุฉ ููุฑููุฉ ุถูู ุฃู ูุญุฏุฉ ุฃู ููุฒุฉ ุฏุงุฎู ุงูุจูุช.

