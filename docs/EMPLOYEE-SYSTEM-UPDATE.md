# ๐ ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู ุงููุญุฏุซ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุฏูุซ ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู ููุดูู ุชุญุณููุงุช ุดุงููุฉ ูู ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช ูุงููุฑููุงุช ูุฃููุงุฏ ุงูููุธููู.

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐๏ธ ุชูุธูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุญุฐู ุงูุญููู ุบูุฑ ุงููุทููุจุฉ:**
  - ุงูุฃุณูุงุก ุงููููุตูุฉ (firstName, secondName, thirdName, lastName)
  - ุงูุนูู ุงูุตุญุฑุงูู (isFieldWorker, rotationSchedule)
  - ุงูุจุฏูุงุช (fieldAllowanceRate, housingAllowance, transportAllowance, foodAllowance)

### ๐ฐ ุญููู ุงูุฑูุงุชุจ ูุงููุฒุงูุง ุงูุฌุฏูุฏุฉ
- **ุฑูู ุชุญููู ุฃูู** (`transferNumber1`) - ุฑูู ููุจุงูู 11 ุฑูู
- **ููุน ุงูุชุญููู ุงูุฃูู** (`transferType1`) - INSTAPAY ุฃู CASH
- **ุฑูู ุชุญููู ุซุงูู** (`transferNumber2`) - ุฑูู ููุจุงูู 11 ุฑูู
- **ููุน ุงูุชุญููู ุงูุซุงูู** (`transferType2`) - INSTAPAY ุฃู CASH

### ๐ ูุนูููุงุช ุงูุงุชุตุงู ุงููุญุฏุซุฉ
- **ุฑูู Telegram ID** (`telegramId`) - ููุชูุงุตู ุนุจุฑ Telegram

### ๐ ูุธุงู ุงููุฑููุงุช ุงูุฌุฏูุฏ
- **ูุฌูุฏุงุช ููุธูุฉ ููู ููุธู:**
  - `attachments/employee-{CODE}-{NAME}/`
  - `id-cards/` - ุจุทุงูุงุช ุงูุฑูู ุงููููู
  - `profile-photos/` - ุงูุตูุฑ ุงูุดุฎุตูุฉ
  - `documents/` - ุงููุณุชูุฏุงุช ุงูุนุงูุฉ
  - `cv/` - ุงูุณูุฑ ุงูุฐุงุชูุฉ
  - `others/` - ูููุงุช ุฃุฎุฑู

### ๐ ูุธุงู ุฃููุงุฏ ุงูููุธููู ุงูุฌุฏูุฏ
- **ุชูุณูู ุงูููุฏ:** `{POSITION_CODE}-{SERIAL_NUMBER}`
- **ูุซุงู:** `CAT-01-001` (ุฃูู ุทุจุงุฎ)
- **ุชุบููุฑ ุงููุธููุฉ:** ูุญุตู ุนูู ููุฏ ุฌุฏูุฏ ูุน ุงูุงุญุชูุงุธ ุจุงูุชุงุฑูุฎ

## ๐๏ธ ุงููููุงุช ุงูุฌุฏูุฏุฉ

### 1. `src/modules/utils/attachments-manager.ts`
```typescript
// ุฅุฏุงุฑุฉ ุงููุฑููุงุช ูุงููููุงุช
AttachmentsManager.saveIdCard(employeeCode, employeeName, fileBuffer, fileName, side)
AttachmentsManager.saveProfilePhoto(employeeCode, employeeName, fileBuffer, fileName)
AttachmentsManager.saveCV(employeeCode, employeeName, fileBuffer, fileName)
AttachmentsManager.createEmployeeFolder(employeeCode, employeeName)
```

### 2. `src/modules/utils/employee-code-manager.ts`
```typescript
// ุฅุฏุงุฑุฉ ุฃููุงุฏ ุงูููุธููู
EmployeeCodeManager.generateEmployeeCode(positionId)
EmployeeCodeManager.updateEmployeeCode(employeeId, newPositionId)
EmployeeCodeManager.validateEmployeeCode(employeeCode)
EmployeeCodeManager.getCodeStatistics(positionId?)
```

## ๐ ุงูุชุบููุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู Employee ุงููุญุฏุซ
```sql
-- ุงูุญููู ุงููุญุฐููุฉ
firstName, firstNameEn, secondName, secondNameEn, thirdName, thirdNameEn, lastName, lastNameEn
isFieldWorker, rotationSchedule, fieldAllowanceRate, housingAllowance, transportAllowance, foodAllowance
currentRotationId, lastRotationEndDate, nextRotationStartDate

-- ุงูุญููู ุงููุถุงูุฉ
telegramId String?
transferNumber1 String?
transferType1 TransferType?
transferNumber2 String?
transferType2 TransferType?
nationalIdCardUrl String?
```

### Enum ุฌุฏูุฏ
```sql
enum TransferType {
  INSTAPAY
  CASH
}
```

## ๐ ุชุฏูู ุฅุถุงูุฉ ุงูููุธู ุงูุฌุฏูุฏ

### ุงูุฎุทูุงุช ุงููุญุฏุซุฉ (7 ุฎุทูุงุช)
1. **ุงูุงุณู ุงููุงูู** - ุฅุฏุฎุงู ุงูุงุณู ุงููุงูู
2. **ุงุณู ุงูุดูุฑุฉ** - ุฅุฏุฎุงู ุฃู ุชูููุฏ ุชููุงุฆู
3. **ุงุฎุชูุงุฑ ุงููุธููุฉ** - ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ุงููุณู ุงูุชููุงุฆู
4. **ุงูุฑูู ุงููููู** - ูุน ุงูุชุญูู ูู ุงูุชูุฑุงุฑ
5. **ุชุงุฑูุฎ ุงููููุงุฏ** - ูุน ุญุณุงุจ ุงูุนูุฑ
6. **ุงูุฌูุณ** - ุฐูุฑ ุฃู ุฃูุซู
7. **ุงููุญุงูุธุฉ** - ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
8. **ุฑูู ุงูููุจุงูู** - ูุน ุชุญุฏูุฏ ุงูุดุจูุฉ
9. **ุชุงุฑูุฎ ุจุฏุก ุงูุนูู** - ุงูููู ุฃู ุชุงุฑูุฎ ูุฎุตุต
10. **ุจุทุงูุฉ ุงูุฑูู ุงููููู** - ุงููุฌู ุงูุฃูุงูู ูุงูุฎููู (ุงุฎุชูุงุฑู)

### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ูู ุงูุชุฏูู
- **ุชูููุฏ ุงุณู ุงูุดูุฑุฉ ุชููุงุฆูุงู** - ูุน ุฏุนู ุงูุฃุณูุงุก ุงููุฑูุจุฉ ุงูุนุฑุจูุฉ
- **ุงุฎุชูุงุฑ ุงููุธููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** - ูุน ุงููุณู ุงูุชููุงุฆู
- **ูุธุงู ุงููุฑููุงุช ุงููุญุณู** - ูุฌูุฏุงุช ููุธูุฉ ููู ููุธู
- **ููุฏ ููุธู ุฐูู** - ุจูุงุก ุนูู ุงููุธููุฉ + ุฑูู ูุณูุณู
- **ุญุฐู ุงูุฑุณุงุฆู ุงููุคูุชุฉ** - ุชูุธูู ุงูุดุงุช ุจุนุฏ ุงูุญูุธ
- **ุฃุฒุฑุงุฑ ุงูุชููู** - ุงูุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ุฃู ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ

## ๐ฏ ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ููุธู ุฌุฏูุฏ
```typescript
// ุชูููุฏ ููุฏ ุงูููุธู
const codeInfo = await EmployeeCodeManager.generateEmployeeCode(positionId)
// ุงููุชูุฌุฉ: { employeeCode: "CAT-01-001", positionCode: "CAT-01", serialNumber: 1 }

// ุญูุธ ุจุทุงูุฉ ุงูุฑูู ุงููููู
const attachment = await AttachmentsManager.saveIdCard(
  "CAT-01-001",
  "ุฃุญูุฏ ูุญูุฏ ุนูู",
  imageBuffer,
  "id-card-front.jpg",
  "front"
)
// ุงููุชูุฌุฉ: ูุฌูุฏ attachments/employee-CAT-01-001-ุฃุญูุฏ-ูุญูุฏ-ุนูู/id-cards/CAT-01-001-id-card-front.jpg
```

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงูุจูุงูุงุช ุงููุญุฐููุฉ
- **8 ุญููู ุฃุณูุงุก** ูููุตูุฉ
- **9 ุญููู ุนูู ุตุญุฑุงูู** ูุจุฏูุงุช
- **3 ุญููู ุฏูุงุฑุงุช** ุนูู

### ุงูุจูุงูุงุช ุงููุถุงูุฉ
- **4 ุญููู ุชุญููู** ุฃููุงู
- **1 ุญูู Telegram ID**
- **1 ุญูู ุฑุงุจุท ุจุทุงูุฉ** ุงูุฑูู ุงููููู
- **ูุธุงู ูุฑููุงุช** ุดุงูู
- **ูุธุงู ุฃููุงุฏ** ุฐูู

## ๐ง ุงูุชุญุฏูุซุงุช ุงููุทููุจุฉ

### 1. ุชุญุฏูุซ ูููุงุช Seed
```typescript
// ุฅุถุงูุฉ ุฃููุงุฏ ูููุธุงุฆู ูู seed-positions.ts
const positions = [
  { code: "CAT-01", titleAr: "ุทุจุงุฎ", title: "Chef" },
  { code: "MNT-01", titleAr: "ููู ุตูุงูุฉ", title: "Maintenance Technician" },
  // ...
]
```

### 2. ุชุญุฏูุซ ูุงุฌูุงุช ุงููุณุชุฎุฏู
- ุฅุถุงูุฉ ุญููู ุงูุชุญููู ูู ููุงุฐุฌ ุงูุฑูุงุชุจ
- ุฅุถุงูุฉ ุญูู Telegram ID ูู ููุงุฐุฌ ุงูุงุชุตุงู
- ุชุญุฏูุซ ุนุฑุถ ุงููุฑููุงุช ูู ุงูุชูุงุฑูุฑ

### 3. ุชุญุฏูุซ ุงูุชูุงุฑูุฑ
- ุนุฑุถ ุฃููุงุฏ ุงูููุธููู ุงูุฌุฏูุฏุฉ
- ุนุฑุถ ูุนูููุงุช ุงููุฑููุงุช
- ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงูุฃููุงุฏ

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุงุฎุชุจุงุฑ ุงููุธุงู ุงูุฌุฏูุฏ** - ุฅุถุงูุฉ ููุธู ุชุฌุฑูุจู
2. **ุชุญุฏูุซ ุงููุงุฌูุงุช** - ููุงุฐุฌ ุงูุฑูุงุชุจ ูุงูุงุชุตุงู
3. **ุฅุถุงูุฉ ููุฒุงุช ุฅุถุงููุฉ** - ุฑูุน ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ ูุงูุตูุฑ ุงูุดุฎุตูุฉ
4. **ุชุญุณูู ุงูุชูุงุฑูุฑ** - ุนุฑุถ ุงููุฑููุงุช ูุงูุฅุญุตุงุฆูุงุช

## ๐ ููุงุญุธุงุช ูููุฉ

- **ุงูุจูุงูุงุช ุงููุฏููุฉ** ูุญููุธุฉ ูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- **ุงููุธุงู ูุชูุงูู** ูุน ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
- **ุงูุฃููุงุฏ ุงูุฌุฏูุฏุฉ** ุชุจุฏุฃ ูู 001 ููู ูุธููุฉ
- **ุงููุฑููุงุช** ูุญููุธุฉ ูู ูุฌูุฏุงุช ููุธูุฉ
- **ุงููุธุงู ูุงุจู ููุชูุณุน** ูุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ

---

**ุชู ุงูุชุญุฏูุซ ุจูุฌุงุญ! ๐**

ุงููุธุงู ุงูุขู ุฃูุซุฑ ุชูุธููุงู ููุนุงููุฉ ูุน ููุฒุงุช ูุชูุฏูุฉ ูุฅุฏุงุฑุฉ ุงูููุธููู ูุงููุฑููุงุช.
